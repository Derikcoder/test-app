
> client@0.0.0 test
> vitest


 DEV  v1.6.1 /home/derick/React Projects/test-app/client

 ‚ùØ src/__tests__/api/axios.test.js  (16 tests | 12 failed) 11ms
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > API Instance Creation > should create axios instance with correct baseURL
     ‚Üí expected "spy" to be called with arguments: [ Array(1) ]

Received: 



Number of calls: 0

   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > API Instance Creation > should set default Content-Type header
     ‚Üí expected "spy" to be called with arguments: [ ObjectContaining{‚Ä¶} ]

Received: 



Number of calls: 0

   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should register request interceptor
     ‚Üí expected "spy" to be called at least once
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should inject token from localStorage if available
     ‚Üí Cannot read properties of undefined (reading '0')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should handle missing token gracefully
     ‚Üí Cannot read properties of undefined (reading '0')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should handle invalid JSON in localStorage
     ‚Üí Cannot read properties of undefined (reading '0')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should log request errors
     ‚Üí Cannot read properties of undefined (reading '1')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should register response interceptor
     ‚Üí expected "spy" to be called at least once
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should pass through successful responses
     ‚Üí Cannot read properties of undefined (reading '0')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should handle 401 unauthorized errors
     ‚Üí Cannot read properties of undefined (reading '1')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should handle network errors
     ‚Üí Cannot read properties of undefined (reading '1')
   ‚ùØ src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should handle 500 server errors
     ‚Üí Cannot read properties of undefined (reading '1')
 ‚ùØ src/__tests__/components/Login.test.jsx  (0 test)
stderr | src/__tests__/context/AuthContext.test.jsx > AuthContext > login > should set user data and store in localStorage
Warning: An update to AuthProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AuthProvider (/home/derick/React Projects/test-app/client/src/context/AuthContext.jsx:6:25)

stderr | src/__tests__/context/AuthContext.test.jsx > AuthContext > login > should persist user data across remounts
Warning: An update to AuthProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AuthProvider (/home/derick/React Projects/test-app/client/src/context/AuthContext.jsx:6:25)

stderr | src/__tests__/context/AuthContext.test.jsx > AuthContext > logout > should handle logout when no user is logged in
Warning: An update to AuthProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AuthProvider (/home/derick/React Projects/test-app/client/src/context/AuthContext.jsx:6:25)

 ‚ùØ src/__tests__/context/AuthContext.test.jsx  (11 tests | 5 failed) 4081ms
   ‚ùØ src/__tests__/context/AuthContext.test.jsx > AuthContext > AuthProvider initialization > should restore user from localStorage on mount
     ‚Üí expect(element).toHaveTextContent()

Expected element to have text content:
  stored@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ‚ùØ src/__tests__/context/AuthContext.test.jsx > AuthContext > login > should set user data and store in localStorage
     ‚Üí "undefined" is not valid JSON
   ‚ùØ src/__tests__/context/AuthContext.test.jsx > AuthContext > login > should persist user data across remounts
     ‚Üí expect(element).toHaveTextContent()

Expected element to have text content:
  test@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ‚ùØ src/__tests__/context/AuthContext.test.jsx > AuthContext > logout > should clear user data and remove from localStorage
     ‚Üí expect(element).toHaveTextContent()

Expected element to have text content:
  test@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ‚ùØ src/__tests__/context/AuthContext.test.jsx > AuthContext > updateUser > should update user data in state and localStorage
     ‚Üí expect(element).toHaveTextContent()

Expected element to have text content:
  old@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/__tests__/components/Login.test.jsx [ src/__tests__/components/Login.test.jsx ]
TypeError: Cannot read properties of undefined (reading 'interceptors')
 ‚ùØ src/api/axios.js:46:5
     44|  * api.get('/auth/profile') // Header: Authorization: Bearer <token>
     45|  */
     46| api.interceptors.request.use(
       |     ^
     47|   (config) => {
     48|     // Inject JWT token if available in localStorage
 ‚ùØ src/components/Login.jsx:5:31

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/18]‚éØ

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 17 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > API Instance Creation > should create axios instance with correct baseURL
AssertionError: expected "spy" to be called with arguments: [ Array(1) ]

Received: 



Number of calls: 0

 ‚ùØ src/__tests__/api/axios.test.js:34:28
     32|   describe('API Instance Creation', () => {
     33|     it('should create axios instance with correct baseURL', () => {
     34|       expect(axios.create).toHaveBeenCalledWith(
       |                            ^
     35|         expect.objectContaining({
     36|           baseURL: '/api',

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > API Instance Creation > should set default Content-Type header
AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{‚Ä¶} ]

Received: 



Number of calls: 0

 ‚ùØ src/__tests__/api/axios.test.js:42:28
     40| 
     41|     it('should set default Content-Type header', () => {
     42|       expect(axios.create).toHaveBeenCalledWith(
       |                            ^
     43|         expect.objectContaining({
     44|           headers: {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should register request interceptor
AssertionError: expected "spy" to be called at least once
 ‚ùØ src/__tests__/api/axios.test.js:54:46
     52|   describe('Request Interceptor', () => {
     53|     it('should register request interceptor', () => {
     54|       expect(axios.interceptors.request.use).toHaveBeenCalled();
       |                                              ^
     55|     });
     56| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should inject token from localStorage if available
TypeError: Cannot read properties of undefined (reading '0')
 ‚ùØ src/__tests__/api/axios.test.js:65:78
     63| 
     64|       // Get the request interceptor function
     65|       const requestInterceptor = axios.interceptors.request.use.mock.c‚Ä¶
       |                                                                              ^
     66|       
     67|       const config = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should handle missing token gracefully
TypeError: Cannot read properties of undefined (reading '0')
 ‚ùØ src/__tests__/api/axios.test.js:80:78
     78|       // No token in localStorage
     79| 
     80|       const requestInterceptor = axios.interceptors.request.use.mock.c‚Ä¶
       |                                                                              ^
     81|       
     82|       const config = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should handle invalid JSON in localStorage
TypeError: Cannot read properties of undefined (reading '0')
 ‚ùØ src/__tests__/api/axios.test.js:95:78
     93|       localStorage.setItem('userInfo', 'invalid-json');
     94| 
     95|       const requestInterceptor = axios.interceptors.request.use.mock.c‚Ä¶
       |                                                                              ^
     96|       
     97|       const config = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Request Interceptor > should log request errors
TypeError: Cannot read properties of undefined (reading '1')
 ‚ùØ src/__tests__/api/axios.test.js:106:76
    104| 
    105|     it('should log request errors', () => {
    106|       const errorInterceptor = axios.interceptors.request.use.mock.cal‚Ä¶
       |                                                                            ^
    107|       const mockError = new Error('Request failed');
    108| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should register response interceptor
AssertionError: expected "spy" to be called at least once
 ‚ùØ src/__tests__/api/axios.test.js:115:47
    113|   describe('Response Interceptor', () => {
    114|     it('should register response interceptor', () => {
    115|       expect(axios.interceptors.response.use).toHaveBeenCalled();
       |                                               ^
    116|     });
    117| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[9/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should pass through successful responses
TypeError: Cannot read properties of undefined (reading '0')
 ‚ùØ src/__tests__/api/axios.test.js:119:80
    117| 
    118|     it('should pass through successful responses', () => {
    119|       const responseInterceptor = axios.interceptors.response.use.mock‚Ä¶
       |                                                                                ^
    120|       
    121|       const mockResponse = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[10/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should handle 401 unauthorized errors
TypeError: Cannot read properties of undefined (reading '1')
 ‚ùØ src/__tests__/api/axios.test.js:132:77
    130| 
    131|     it('should handle 401 unauthorized errors', () => {
    132|       const errorInterceptor = axios.interceptors.response.use.mock.ca‚Ä¶
       |                                                                             ^
    133|       
    134|       const mockError = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[11/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should handle network errors
TypeError: Cannot read properties of undefined (reading '1')
 ‚ùØ src/__tests__/api/axios.test.js:151:77
    149| 
    150|     it('should handle network errors', () => {
    151|       const errorInterceptor = axios.interceptors.response.use.mock.ca‚Ä¶
       |                                                                             ^
    152|       
    153|       const mockError = new Error('Network Error');

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[12/18]‚éØ

 FAIL  src/__tests__/api/axios.test.js > Axios Configuration > Response Interceptor > should handle 500 server errors
TypeError: Cannot read properties of undefined (reading '1')
 ‚ùØ src/__tests__/api/axios.test.js:160:77
    158| 
    159|     it('should handle 500 server errors', () => {
    160|       const errorInterceptor = axios.interceptors.response.use.mock.ca‚Ä¶
       |                                                                             ^
    161|       
    162|       const mockError = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[13/18]‚éØ

 FAIL  src/__tests__/context/AuthContext.test.jsx > AuthContext > AuthProvider initialization > should restore user from localStorage on mount
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  stored@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ‚ùØ src/__tests__/context/AuthContext.test.jsx:73:44
     71| 
     72|       await waitFor(() => {
     73|         expect(screen.getByTestId('user')).toHaveTextContent('stored@e‚Ä¶
       |                                            ^
     74|       });
     75|     });
 ‚ùØ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12
 ‚ùØ checkCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ‚ùØ Timeout.checkRealTimersCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:118:16

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[14/18]‚éØ

 FAIL  src/__tests__/context/AuthContext.test.jsx > AuthContext > login > should set user data and store in localStorage
SyntaxError: "undefined" is not valid JSON
 ‚ùØ src/__tests__/context/AuthContext.test.jsx:112:31
    110| 
    111|       // Check localStorage
    112|       const storedData = JSON.parse(localStorage.getItem('userInfo'));
       |                               ^
    113|       expect(storedData).toEqual({ email: 'test@example.com', token: '‚Ä¶
    114|     });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[15/18]‚éØ

 FAIL  src/__tests__/context/AuthContext.test.jsx > AuthContext > login > should persist user data across remounts
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  test@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ‚ùØ src/__tests__/context/AuthContext.test.jsx:146:44
    144|       // User should still be logged in
    145|       await waitFor(() => {
    146|         expect(screen.getByTestId('user')).toHaveTextContent('test@exa‚Ä¶
       |                                            ^
    147|       });
    148|     });
 ‚ùØ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12
 ‚ùØ checkCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ‚ùØ Timeout.checkRealTimersCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:118:16

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[16/18]‚éØ

 FAIL  src/__tests__/context/AuthContext.test.jsx > AuthContext > logout > should clear user data and remove from localStorage
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  test@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ‚ùØ src/__tests__/context/AuthContext.test.jsx:163:44
    161| 
    162|       await waitFor(() => {
    163|         expect(screen.getByTestId('user')).toHaveTextContent('test@exa‚Ä¶
       |                                            ^
    164|       });
    165| 
 ‚ùØ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12
 ‚ùØ checkCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ‚ùØ Timeout.checkRealTimersCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:118:16

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[17/18]‚éØ

 FAIL  src/__tests__/context/AuthContext.test.jsx > AuthContext > updateUser > should update user data in state and localStorage
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  old@example.com
Received:
  No user

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"loading"[39m
        [36m>[39m
          [0mLoaded[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"user"[39m
        [36m>[39m
          [0mNo user[0m
        [36m</div>[39m
        [36m<button>[39m
          [0mLogin[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mLogout[0m
        [36m</button>[39m
        [36m<button>[39m
          [0mUpdate[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ‚ùØ src/__tests__/context/AuthContext.test.jsx:211:44
    209| 
    210|       await waitFor(() => {
    211|         expect(screen.getByTestId('user')).toHaveTextContent('old@exam‚Ä¶
       |                                            ^
    212|       });
    213| 
 ‚ùØ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12
 ‚ùØ checkCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ‚ùØ Timeout.checkRealTimersCallback node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:118:16

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[18/18]‚éØ

 Test Files  3 failed (3)
      Tests  17 failed | 10 passed (27)
   Start at  14:02:59
   Duration  4.84s (transform 139ms, setup 402ms, collect 101ms, tests 4.09s, environment 890ms, prepare 358ms)


 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
Cancelling test run. Press CTRL+c again to exit forcefully.

